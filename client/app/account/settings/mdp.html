<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <h3>Changement de votre mot de passe: {{vm.user.uid}}</h3>
    </div>

    <div class="col-sm-12">
      <form class="form" name="passwdForm" ng-submit="vm.changePassword(passwdForm)" novalidate>

        <div class="form-group">
          <label>Mot de passe actuel</label>

          <input type="password" name="password" class="form-control" ng-model="vm.user.oldPassword" mongoose-error style="width:250px" />
          <p class="help-block" ng-show="passwdForm.password.$error.mongoose">
            {{ vm.errors.other }}
          </p>
        </div>

        <div class="form-group">
          <label>Nouveau mot de passe</label>

          <input type="password" name="newPassword" class="form-control" ng-model="vm.user.newPassword" ng-minlength="8" required style="width:250px" />
          <p class="help-block" ng-show="(passwdForm.newPassword.$error.minlength ||passwdForm.newPassword.$error.required) && (passwdForm.newPassword.$dirty || vm.submitted)">
            8 caractères minimum.
          </p>
        </div>

        <div class="form-group">
          <label>Confirmez le mot de passe </label>

          <input type="password" name="confirmPassword" class="form-control" ng-model="vm.user.confirmPassword" match="vm.user.newPassword" ng-minlength="8" required style="width:250px" />
          <p class="help-block" ng-show="passwdForm.confirmPassword.$error.match">
            Mot de passe différent!
          </p>

        </div>

        <p class="help-block"> {{ vm.message }} </p>

        <button class="btn btn-lg btn-primary" ng-disabled="passwdForm.$invalid || passwdForm.$pending" type="submit">Modifier</button>
      </form>
    </div>
  </div>
</div>
